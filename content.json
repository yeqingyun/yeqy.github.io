{"meta":{"title":"一些","subtitle":"一些","description":null,"author":"叶青云","url":"http://ilovejava.cn"},"pages":[{"title":"","date":"2017-08-15T01:04:29.127Z","updated":"2017-08-15T01:04:29.126Z","comments":true,"path":"404.html","permalink":"http://ilovejava.cn/404.html","excerpt":"","text":"404 *{margin:0;padding:0;outline:none;font-family:\\5FAE\\8F6F\\96C5\\9ED1,宋体;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none;cursor:default;font-weight:lighter;} .center{margin:0 auto;} .whole{width:100%;height:100%;line-height:100%;position:fixed;bottom:0;left:0;z-index:-1000;overflow:hidden;} .whole img{width:100%;height:100%;} .mask{width:100%;height:100%;position:absolute;top:0;left:0;background:#000;opacity:0.6;filter:alpha(opacity=60);} .b{width:100%;text-align:center;height:400px;position:absolute;top:50%;margin-top:-230px}.a{width:150px;height:50px;margin-top:30px}.a a{display:block;float:left;width:150px;height:50px;background:#fff;text-align:center;line-height:50px;font-size:18px;border-radius:25px;color:#333}.a a:hover{color:#000;box-shadow:#fff 0 0 20px} p{color:#fff;margin-top:40px;font-size:24px;} #num{margin:0 5px;font-weight:bold;} var num=4; function redirect(){ num--; document.getElementById(\"num\").innerHTML=num; if(num"},{"title":"关于本站","date":"2016-01-10T01:12:45.000Z","updated":"2017-08-15T08:29:41.498Z","comments":false,"path":"about/index.html","permalink":"http://ilovejava.cn/about/index.html","excerpt":"","text":"在此声明，本站所有文章均属原创，都是自己的经验和总结，转载请注明出处。如文章有错误之处，请留言指出，非常感谢。打赏过的小伙伴今后将在此页列出。"},{"title":"分类","date":"2016-08-11T04:12:45.000Z","updated":"2017-08-15T01:31:27.241Z","comments":false,"path":"categories/index.html","permalink":"http://ilovejava.cn/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2016-08-11T04:12:45.000Z","updated":"2017-08-15T01:32:25.000Z","comments":true,"path":"tags/index.html","permalink":"http://ilovejava.cn/tags/index.html","excerpt":"","text":""},{"title":"","date":"2017-09-04T01:58:33.501Z","updated":"2017-09-04T01:58:33.501Z","comments":true,"path":"projects/games/square_1/index.html","permalink":"http://ilovejava.cn/projects/games/square_1/index.html","excerpt":"","text":"Square 游戏结束 已用时:0 已得分:0 开始 暂停 结束 操作说明： ↑：变换 ↓：下落 ←：左移 →：右移 空格：坠落"},{"title":"","date":"2017-09-04T01:58:33.499Z","updated":"2017-09-04T01:58:33.499Z","comments":true,"path":"projects/games/square_1/bundle.js","permalink":"http://ilovejava.cn/projects/games/square_1/bundle.js","excerpt":"","text":"!function(n){function t(n){delete installedChunks[n]}function r(n){var t=document.getElementsByTagName(\"head\")[0],r=document.createElement(\"script\");r.type=\"text/javascript\",r.charset=\"utf-8\",r.src=h.p+\"\"+n+\".\"+m+\".hot-update.js\",t.appendChild(r)}function e(n){return n=n||1e4,new Promise(function(t,r){if(\"undefined\"==typeof XMLHttpRequest)return r(new Error(\"No browser support\"));try{var e=new XMLHttpRequest,u=h.p+\"\"+m+\".hot-update.json\";e.open(\"GET\",u,!0),e.timeout=n,e.send(null)}catch(n){return r(n)}e.onreadystatechange=function(){if(4===e.readyState)if(0===e.status)r(new Error(\"Manifest request to \"+u+\" timed out.\"));else if(404===e.status)t();else if(200!==e.status&&304!==e.status)r(new Error(\"Manifest request to \"+u+\" failed.\"));else{try{var n=JSON.parse(e.responseText)}catch(n){return void r(n)}t(n)}}})}function u(n){var t=C[n];if(!t)return h;var r=function(r){return t.hot.active?(C[r]?C[r].parents.indexOf(n)=0&&O.splice(t,1)},data:x[n]};return v=void 0,t}function o(n){A=n;for(var t=0;t0;){var i=u.pop(),o=i.id,a=i.chain;if((c=C[o])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:\"self-declined\",chain:a,moduleId:o};if(c.hot._main)return{type:\"unaccepted\",chain:a,moduleId:o};for(var f=0;f=0||(s.hot._acceptedDependencies[o]?(r[l]||(r[l]=[]),e(r[l],[o])):(delete r[l],t.push(l),u.push({chain:a.concat([l]),id:l})))}}}}return{type:\"accepted\",moduleId:n,outdatedModules:t,outdatedDependencies:r}}(l):{type:\"disposed\",moduleId:g};var w=!1,k=!1,O=!1,E=\"\";switch(b.chain&&(E=\"\\nUpdate propagation: \"+b.chain.join(\" -> \")),b.type){case\"self-declined\":r.onDeclined&&r.onDeclined(b),r.ignoreDeclined||(w=new Error(\"Aborted because of self decline: \"+b.moduleId+E));break;case\"declined\":r.onDeclined&&r.onDeclined(b),r.ignoreDeclined||(w=new Error(\"Aborted because of declined dependency: \"+b.moduleId+\" in \"+b.parentId+E));break;case\"unaccepted\":r.onUnaccepted&&r.onUnaccepted(b),r.ignoreUnaccepted||(w=new Error(\"Aborted because \"+l+\" is not accepted\"+E));break;case\"accepted\":r.onAccepted&&r.onAccepted(b),k=!0;break;case\"disposed\":r.onDisposed&&r.onDisposed(b),O=!0;break;default:throw new Error(\"Unexception type \"+b.type)}if(w)return o(\"abort\"),Promise.reject(w);if(k){d[l]=_[l],e(p,b.outdatedModules);for(l in b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,l)&&(s[l]||(s[l]=[]),e(s[l],b.outdatedDependencies[l]))}O&&(e(p,[b.moduleId]),d[l]=v)}var I=[];for(i=0;i0;)if(l=D.pop(),c=C[l]){var U={},L=c.hot._disposeHandlers;for(f=0;f=0&&z.parents.splice(R,1))}}var B,T;for(l in s)if(Object.prototype.hasOwnProperty.call(s,l)&&(c=C[l]))for(T=s[l],f=0;f=0&&c.children.splice(R,1);o(\"apply\"),m=y;for(l in d)Object.prototype.hasOwnProperty.call(d,l)&&(n[l]=d[l]);var M=null;for(l in s)if(Object.prototype.hasOwnProperty.call(s,l)&&(c=C[l])){T=s[l];var P=[];for(i=0;i=0)continue;P.push(u)}for(i=0;i-1;);return r}function W(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function N(n){return\"\\\\\"+Ir[n]}function $(n,t){return null==n?un:n[t]}function q(n){return br.test(n)}function H(n){return mr.test(n)}function F(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function G(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function Z(n,t){return function(r){return n(t(r))}}function J(n,t){for(var r=-1,e=n.length,u=0,i=[];++r>>1,Wn=[[\"ary\",kn],[\"bind\",_n],[\"bindKey\",yn],[\"curry\",mn],[\"curryRight\",wn],[\"flip\",An],[\"partial\",xn],[\"partialRight\",jn],[\"rearg\",On]],Nn=\"[object Arguments]\",$n=\"[object Array]\",qn=\"[object AsyncFunction]\",Hn=\"[object Boolean]\",Fn=\"[object Date]\",Gn=\"[object DOMException]\",Zn=\"[object Error]\",Jn=\"[object Function]\",Kn=\"[object GeneratorFunction]\",Vn=\"[object Map]\",Yn=\"[object Number]\",Xn=\"[object Null]\",Qn=\"[object Object]\",nt=\"[object Proxy]\",tt=\"[object RegExp]\",rt=\"[object Set]\",et=\"[object String]\",ut=\"[object Symbol]\",it=\"[object Undefined]\",ot=\"[object WeakMap]\",at=\"[object WeakSet]\",ft=\"[object ArrayBuffer]\",ct=\"[object DataView]\",lt=\"[object Float32Array]\",st=\"[object Float64Array]\",pt=\"[object Int8Array]\",ht=\"[object Int16Array]\",dt=\"[object Int32Array]\",vt=\"[object Uint8Array]\",gt=\"[object Uint8ClampedArray]\",_t=\"[object Uint16Array]\",yt=\"[object Uint32Array]\",bt=/\\b__p \\+= '';/g,mt=/\\b(__p \\+=) '' \\+/g,wt=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,jt=/[&\"']/g,kt=RegExp(xt.source),Ot=RegExp(jt.source),At=//g,Et=//g,It=//g,Rt=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Dt=/^\\w*$/,St=/^\\./,Ct=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Ut=/[\\\\^$.*+?()[\\]{}|]/g,Lt=RegExp(Ut.source),zt=/^\\s+|\\s+$/g,Bt=/^\\s+/,Tt=/\\s+$/,Mt=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,Pt=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,Wt=/,? & /,Nt=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,$t=/\\\\(\\\\)?/g,qt=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,Ht=/\\w*$/,Ft=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,Zt=/^\\[object .+?Constructor\\]$/,Jt=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\\d*)$/,Vt=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Yt=/($^)/,Xt=/['\\n\\r\\u2028\\u2029\\\\]/g,Qt=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",nr=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",tr=\"[\"+nr+\"]\",rr=\"[\"+Qt+\"]\",er=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]\",ur=\"[^\\\\ud800-\\\\udfff\"+nr+\"\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",ir=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",or=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",ar=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",fr=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",cr=\"(?:\"+er+\"|\"+ur+\")\",lr=\"(?:[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|\\\\ud83c[\\\\udffb-\\\\udfff])?\",sr=\"(?:\\\\u200d(?:\"+[\"[^\\\\ud800-\\\\udfff]\",or,ar].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+lr+\")*\",pr=\"[\\\\ufe0e\\\\ufe0f]?\"+lr+sr,hr=\"(?:\"+[\"[\\\\u2700-\\\\u27bf]\",or,ar].join(\"|\")+\")\"+pr,dr=\"(?:\"+[\"[^\\\\ud800-\\\\udfff]\"+rr+\"?\",rr,or,ar,\"[\\\\ud800-\\\\udfff]\"].join(\"|\")+\")\",vr=RegExp(\"['’]\",\"g\"),gr=RegExp(rr,\"g\"),_r=RegExp(ir+\"(?=\"+ir+\")|\"+dr+pr,\"g\"),yr=RegExp([fr+\"?\"+er+\"+(?:['’](?:d|ll|m|re|s|t|ve))?(?=\"+[tr,fr,\"$\"].join(\"|\")+\")\",\"(?:[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=\"+[tr,fr+cr,\"$\"].join(\"|\")+\")\",fr+\"?\"+cr+\"+(?:['’](?:d|ll|m|re|s|t|ve))?\",fr+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?\",\"\\\\d*(?:(?:1ST|2ND|3RD|(?![123])\\\\dTH)\\\\b)\",\"\\\\d*(?:(?:1st|2nd|3rd|(?![123])\\\\dth)\\\\b)\",\"\\\\d+\",hr].join(\"|\"),\"g\"),br=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\"+Qt+\"\\\\ufe0e\\\\ufe0f]\"),mr=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wr=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],xr=-1,jr={};jr[lt]=jr[st]=jr[pt]=jr[ht]=jr[dt]=jr[vt]=jr[gt]=jr[_t]=jr[yt]=!0,jr[Nn]=jr[$n]=jr[ft]=jr[Hn]=jr[ct]=jr[Fn]=jr[Zn]=jr[Jn]=jr[Vn]=jr[Yn]=jr[Qn]=jr[tt]=jr[rt]=jr[et]=jr[ot]=!1;var kr={};kr[Nn]=kr[$n]=kr[ft]=kr[ct]=kr[Hn]=kr[Fn]=kr[lt]=kr[st]=kr[pt]=kr[ht]=kr[dt]=kr[Vn]=kr[Yn]=kr[Qn]=kr[tt]=kr[rt]=kr[et]=kr[ut]=kr[vt]=kr[gt]=kr[_t]=kr[yt]=!0,kr[Zn]=kr[Jn]=kr[ot]=!1;var Or={\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"Ç\":\"C\",\"ç\":\"c\",\"Ð\":\"D\",\"ð\":\"d\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"Ñ\":\"N\",\"ñ\":\"n\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"Ý\":\"Y\",\"ý\":\"y\",\"ÿ\":\"y\",\"Æ\":\"Ae\",\"æ\":\"ae\",\"Þ\":\"Th\",\"þ\":\"th\",\"ß\":\"ss\",\"Ā\":\"A\",\"Ă\":\"A\",\"Ą\":\"A\",\"ā\":\"a\",\"ă\":\"a\",\"ą\":\"a\",\"Ć\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Č\":\"C\",\"ć\":\"c\",\"ĉ\":\"c\",\"ċ\":\"c\",\"č\":\"c\",\"Ď\":\"D\",\"Đ\":\"D\",\"ď\":\"d\",\"đ\":\"d\",\"Ē\":\"E\",\"Ĕ\":\"E\",\"Ė\":\"E\",\"Ę\":\"E\",\"Ě\":\"E\",\"ē\":\"e\",\"ĕ\":\"e\",\"ė\":\"e\",\"ę\":\"e\",\"ě\":\"e\",\"Ĝ\":\"G\",\"Ğ\":\"G\",\"Ġ\":\"G\",\"Ģ\":\"G\",\"ĝ\":\"g\",\"ğ\":\"g\",\"ġ\":\"g\",\"ģ\":\"g\",\"Ĥ\":\"H\",\"Ħ\":\"H\",\"ĥ\":\"h\",\"ħ\":\"h\",\"Ĩ\":\"I\",\"Ī\":\"I\",\"Ĭ\":\"I\",\"Į\":\"I\",\"İ\":\"I\",\"ĩ\":\"i\",\"ī\":\"i\",\"ĭ\":\"i\",\"į\":\"i\",\"ı\":\"i\",\"Ĵ\":\"J\",\"ĵ\":\"j\",\"Ķ\":\"K\",\"ķ\":\"k\",\"ĸ\":\"k\",\"Ĺ\":\"L\",\"Ļ\":\"L\",\"Ľ\":\"L\",\"Ŀ\":\"L\",\"Ł\":\"L\",\"ĺ\":\"l\",\"ļ\":\"l\",\"ľ\":\"l\",\"ŀ\":\"l\",\"ł\":\"l\",\"Ń\":\"N\",\"Ņ\":\"N\",\"Ň\":\"N\",\"Ŋ\":\"N\",\"ń\":\"n\",\"ņ\":\"n\",\"ň\":\"n\",\"ŋ\":\"n\",\"Ō\":\"O\",\"Ŏ\":\"O\",\"Ő\":\"O\",\"ō\":\"o\",\"ŏ\":\"o\",\"ő\":\"o\",\"Ŕ\":\"R\",\"Ŗ\":\"R\",\"Ř\":\"R\",\"ŕ\":\"r\",\"ŗ\":\"r\",\"ř\":\"r\",\"Ś\":\"S\",\"Ŝ\":\"S\",\"Ş\":\"S\",\"Š\":\"S\",\"ś\":\"s\",\"ŝ\":\"s\",\"ş\":\"s\",\"š\":\"s\",\"Ţ\":\"T\",\"Ť\":\"T\",\"Ŧ\":\"T\",\"ţ\":\"t\",\"ť\":\"t\",\"ŧ\":\"t\",\"Ũ\":\"U\",\"Ū\":\"U\",\"Ŭ\":\"U\",\"Ů\":\"U\",\"Ű\":\"U\",\"Ų\":\"U\",\"ũ\":\"u\",\"ū\":\"u\",\"ŭ\":\"u\",\"ů\":\"u\",\"ű\":\"u\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"Ż\":\"Z\",\"Ž\":\"Z\",\"ź\":\"z\",\"ż\":\"z\",\"ž\":\"z\",\"Ĳ\":\"IJ\",\"ĳ\":\"ij\",\"Œ\":\"Oe\",\"œ\":\"oe\",\"ŉ\":\"'n\",\"ſ\":\"s\"},Ar={\"&\":\"&amp;\",\"\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},Er={\"&amp;\":\"&\",\"&lt;\":\"\",\"&quot;\":'\"',\"&#39;\":\"'\"},Ir={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Rr=parseFloat,Dr=parseInt,Sr=\"object\"==typeof n&&n&&n.Object===Object&&n,Cr=\"object\"==typeof self&&self&&self.Object===Object&&self,Ur=Sr||Cr||Function(\"return this\")(),Lr=\"object\"==typeof t&&t&&!t.nodeType&&t,zr=Lr&&\"object\"==typeof e&&e&&!e.nodeType&&e,Br=zr&&zr.exports===Lr,Tr=Br&&Sr.process,Mr=function(){try{return Tr&&Tr.binding&&Tr.binding(\"util\")}catch(n){}}(),Pr=Mr&&Mr.isArrayBuffer,Wr=Mr&&Mr.isDate,Nr=Mr&&Mr.isMap,$r=Mr&&Mr.isRegExp,qr=Mr&&Mr.isSet,Hr=Mr&&Mr.isTypedArray,Fr=I(\"length\"),Gr=R(Or),Zr=R(Ar),Jr=R(Er),Kr=function n(t){function r(n){if(of(n)&&!_p(n)&&!(n instanceof m)){if(n instanceof u)return n;if(_l.call(n,\"__wrapped__\"))return to(n)}return new u(n)}function e(){}function u(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=un}function m(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tn,this.__views__=[]}function R(){var n=new m(this.__wrapped__);return n.__actions__=Tu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tu(this.__views__),n}function Y(){if(this.__filtered__){var n=new m(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function tn(){var n=this.__wrapped__.value(),t=this.__dir__,r=_p(n),e=tu?u:jf(e),ee?0:kf(e);r0&&r(a)?t>1?pe(a,t-1,r,e,u):g(u,a):e||(u[u.length]=a)}return u}function he(n,t){return n&&_s(n,t,Nf)}function de(n,t){return n&&ys(n,t,Nf)}function ve(n,t){return p(t,function(t){return tf(n[t])})}function ge(n,t){t=ju(t,n);for(var r=0,e=t.length;null!=n&&rt}function me(n,t){return null!=n&&_l.call(n,t)}function we(n,t){return null!=n&&t in fl(n)}function xe(n,t,r){return n>=Zl(t,r)&&n=120&&l.length>=120)?new _r(o&&l):un}l=n[0];var s=-1,p=a[0];n:for(;++s>0,t>>>=0;for(var i=el(u);++e>>1,o=n[i];null!==o&&!_f(o)&&(r?ot||i&&o&&f&&!a&&!c||e&&o&&f||!r&&f||!u)return 1;if(!e&&!i&&!c&&n=a)return f;return f*(\"desc\"==r[e]?-1:1)}}return n.index-t.index}function zu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,a=-1,f=t.length,c=Gl(i-o,0),l=el(f+c),s=!e;++a3&&\"function\"==typeof i?(u--,i):un,o&&zi(r[0],r[1],o)&&(i=u-1&&n%1==0&&n=Rn)return arguments[0]}else t=0;return n.apply(un,arguments)}}function Yi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===un?e:t;++r-1&&n%1==0&&n=-Ln&&nt){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Vl();return Zl(n+u*(t-n+Rr(\"1e-\"+((u+\"\").length-1))),t)}return Qe(n,t)}function ic(n){return Vp(If(n).toLowerCase())}function oc(n){return(n=If(n))&&n.replace(Vt,Gr).replace(gr,\"\")}function ac(n,t,r){n=If(n),t=hu(t);var e=n.length;r=r===un?e:re(jf(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function fc(n){return n=If(n),n&&Ot.test(n)?n.replace(jt,Zr):n}function cc(n){return n=If(n),n&&Lt.test(n)?n.replace(Ut,\"\\\\$&\"):n}function lc(n,t,r){n=If(n),t=jf(t);var e=t?Q(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return ri(Wl(u),r)+n+ri(Pl(u),r)}function sc(n,t,r){n=If(n),t=jf(t);var e=t?Q(n):0;return t&&e0)?(n=If(n),n&&(\"string\"==typeof t||null!=t&&!xp(t))&&!(t=hu(t))&&q(n)?ku(nn(n),0,r):n.split(t,r)):[]}function _c(n,t,r){return n=If(n),r=null==r?0:re(jf(r),0,n.length),t=hu(t),n.slice(r,r+t.length)==t}function yc(n,t,e){var u=r.templateSettings;e&&zi(n,t,e)&&(t=un),n=If(n),t=Rp({},t,u,li);var i,o,a=Rp({},t.imports,u.imports,li),f=Nf(a),c=B(a,f),l=0,s=t.interpolate||Yt,p=\"__p += '\",h=cl((t.escape||Yt).source+\"|\"+s.source+\"|\"+(s===It?qt:Yt).source+\"|\"+(t.evaluate||Yt).source+\"|$\",\"g\"),d=\"//# sourceURL=\"+(\"sourceURL\"in t?t.sourceURL:\"lodash.templateSources[\"+ ++xr+\"]\")+\"\\n\";n.replace(h,function(t,r,e,u,a,f){return e||(e=u),p+=n.slice(l,f).replace(Xt,N),r&&(i=!0,p+=\"' +\\n__e(\"+r+\") +\\n'\"),a&&(o=!0,p+=\"';\\n\"+a+\";\\n__p += '\"),e&&(p+=\"' +\\n((__t = (\"+e+\")) == null ? '' : __t) +\\n'\"),l=f+t.length,t}),p+=\"';\\n\";var v=t.variable;v||(p=\"with (obj) {\\n\"+p+\"\\n}\\n\"),p=(o?p.replace(bt,\"\"):p).replace(mt,\"$1\").replace(wt,\"$1;\"),p=\"function(\"+(v||\"obj\")+\") {\\n\"+(v?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(o?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+p+\"return __p\\n}\";var g=Yp(function(){return ol(f,d+\"return \"+p).apply(un,c)});if(g.source=p,Qa(g))throw g;return g}function bc(n){return If(n).toLowerCase()}function mc(n){return If(n).toUpperCase()}function wc(n,t,r){if((n=If(n))&&(r||t===un))return n.replace(zt,\"\");if(!n||!(t=hu(t)))return n;var e=nn(n),u=nn(t);return ku(e,M(e,u),P(e,u)+1).join(\"\")}function xc(n,t,r){if((n=If(n))&&(r||t===un))return n.replace(Tt,\"\");if(!n||!(t=hu(t)))return n;var e=nn(n);return ku(e,0,P(e,nn(t))+1).join(\"\")}function jc(n,t,r){if((n=If(n))&&(r||t===un))return n.replace(Bt,\"\");if(!n||!(t=hu(t)))return n;var e=nn(n);return ku(e,M(e,nn(t))).join(\"\")}function kc(n,t){var r=En,e=In;if(uf(t)){var u=\"separator\"in t?t.separator:u;r=\"length\"in t?jf(t.length):r,e=\"omission\"in t?hu(t.omission):e}n=If(n);var i=n.length;if(q(n)){var o=nn(n);i=o.length}if(r>=i)return n;var a=r-Q(e);if(a-1&&(f=f.slice(0,p))}return f+e}function Oc(n){return n=If(n),n&&kt.test(n)?n.replace(xt,Jr):n}function Ac(n,t,r){return n=If(n),t=r?un:t,t===un?H(n)?en(n):w(n):n.match(t)||[]}function Ec(n){var t=null==n?0:n.length,r=wi();return n=t?v(n,function(n){if(\"function\"!=typeof n[1])throw new sl(fn);return[r(n[0]),n[1]]}):[],ru(function(r){for(var e=-1;++eLn)return[];var r=Tn,e=Zl(n,Tn);t=wi(t),n-=Tn;for(var u=U(e,t);++r1?n[t-1]:un;return r=\"function\"==typeof r?(n.pop(),r):un,Zo(n,r)}),Vs=gi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,i=function(t){return te(t,n)};return!(t>1||this.__actions__.length)&&e instanceof m&&Li(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Xo,args:[i],thisArg:un}),new u(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(un),n})):this.thru(i)}),Ys=Nu(function(n,t,r){_l.call(n,r)?++n[r]:ne(n,r,1)}),Xs=Vu(lo),Qs=Vu(so),np=Nu(function(n,t,r){_l.call(n,r)?n[r].push(t):ne(n,r,[t])}),tp=ru(function(n,t,r){var e=-1,u=\"function\"==typeof t,i=Ga(n)?el(n.length):[];return vs(n,function(n){i[++e]=u?a(t,n,r):Oe(n,t,r)}),i}),rp=Nu(function(n,t,r){ne(n,r,t)}),ep=Nu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),up=ru(function(n,t){if(null==n)return[];var r=t.length;return r>1&&zi(n,t[0],t[1])?t=[]:r>2&&zi(t[0],t[1],t[2])&&(t=[t[0]]),Ze(n,pe(t,1),[])}),ip=Tl||function(){return Ur.Date.now()},op=ru(function(n,t,r){var e=_n;if(r.length){var u=J(r,mi(op));e|=xn}return ci(n,e,t,r,u)}),ap=ru(function(n,t,r){var e=_n|yn;if(r.length){var u=J(r,mi(ap));e|=xn}return ci(t,e,n,r,u)}),fp=ru(function(n,t){return oe(n,1,t)}),cp=ru(function(n,t,r){return oe(n,Of(t)||0,r)});Sa.Cache=cr;var lp=ws(function(n,t){t=1==t.length&&_p(t[0])?v(t[0],z(wi())):v(pe(t,1),z(wi()));var r=t.length;return ru(function(e){for(var u=-1,i=Zl(e.length,r);++u=t}),gp=Ae(function(){return arguments}())?Ae:function(n){return of(n)&&_l.call(n,\"callee\")&&!Dl.call(n,\"callee\")},_p=el.isArray,yp=Pr?z(Pr):Ee,bp=$l||$c,mp=Wr?z(Wr):Ie,wp=Nr?z(Nr):Se,xp=$r?z($r):Le,jp=qr?z(qr):ze,kp=Hr?z(Hr):Be,Op=ii(We),Ap=ii(function(n,t){return n1),t}),Mu(n,yi(n),r),e&&(r=ee(r,pn|hn|dn,pi));for(var u=t.length;u--;)vu(r,t[u]);return r}),Wp=gi(function(n,t){return null==n?{}:Je(n,t)}),Np=fi(Nf),$p=fi($f),qp=Zu(function(n,t,r){return t=t.toLowerCase(),n+(r?ic(t):t)}),Hp=Zu(function(n,t,r){return n+(r?\"-\":\"\")+t.toLowerCase()}),Fp=Zu(function(n,t,r){return n+(r?\" \":\"\")+t.toLowerCase()}),Gp=Gu(\"toLowerCase\"),Zp=Zu(function(n,t,r){return n+(r?\"_\":\"\")+t.toLowerCase()}),Jp=Zu(function(n,t,r){return n+(r?\" \":\"\")+Vp(t)}),Kp=Zu(function(n,t,r){return n+(r?\" \":\"\")+t.toUpperCase()}),Vp=Gu(\"toUpperCase\"),Yp=ru(function(n,t){try{return a(n,un,t)}catch(n){return Qa(n)?n:new il(n)}}),Xp=gi(function(n,t){return c(t,function(t){t=Xi(t),ne(n,t,op(n[t],n))}),n}),Qp=Yu(),nh=Yu(!0),th=ru(function(n,t){return function(r){return Oe(r,n,t)}}),rh=ru(function(n,t){return function(r){return Oe(n,r,t)}}),eh=ti(v),uh=ti(s),ih=ti(b),oh=ui(),ah=ui(!0),fh=ni(function(n,t){return n+t},0),ch=ai(\"ceil\"),lh=ni(function(n,t){return n/t},1),sh=ai(\"floor\"),ph=ni(function(n,t){return n*t},1),hh=ai(\"round\"),dh=ni(function(n,t){return n-t},0);return r.after=ka,r.ary=Oa,r.assign=Ep,r.assignIn=Ip,r.assignInWith=Rp,r.assignWith=Dp,r.at=Sp,r.before=Aa,r.bind=op,r.bindAll=Xp,r.bindKey=ap,r.castArray=Pa,r.chain=Vo,r.chunk=ro,r.compact=eo,r.concat=uo,r.cond=Ec,r.conforms=Ic,r.constant=Rc,r.countBy=Ys,r.create=Rf,r.curry=Ea,r.curryRight=Ia,r.debounce=Ra,r.defaults=Cp,r.defaultsDeep=Up,r.defer=fp,r.delay=cp,r.difference=Us,r.differenceBy=Ls,r.differenceWith=zs,r.drop=io,r.dropRight=oo,r.dropRightWhile=ao,r.dropWhile=fo,r.fill=co,r.filter=aa,r.flatMap=fa,r.flatMapDeep=ca,r.flatMapDepth=la,r.flatten=po,r.flattenDeep=ho,r.flattenDepth=vo,r.flip=Da,r.flow=Qp,r.flowRight=nh,r.fromPairs=go,r.functions=Bf,r.functionsIn=Tf,r.groupBy=np,r.initial=bo,r.intersection=Bs,r.intersectionBy=Ts,r.intersectionWith=Ms,r.invert=Lp,r.invertBy=zp,r.invokeMap=tp,r.iteratee=Cc,r.keyBy=rp,r.keys=Nf,r.keysIn=$f,r.map=da,r.mapKeys=qf,r.mapValues=Hf,r.matches=Uc,r.matchesProperty=Lc,r.memoize=Sa,r.merge=Tp,r.mergeWith=Mp,r.method=th,r.methodOf=rh,r.mixin=zc,r.negate=Ca,r.nthArg=Mc,r.omit=Pp,r.omitBy=Ff,r.once=Ua,r.orderBy=va,r.over=eh,r.overArgs=lp,r.overEvery=uh,r.overSome=ih,r.partial=sp,r.partialRight=pp,r.partition=ep,r.pick=Wp,r.pickBy=Gf,r.property=Pc,r.propertyOf=Wc,r.pull=Ps,r.pullAll=ko,r.pullAllBy=Oo,r.pullAllWith=Ao,r.pullAt=Ws,r.range=oh,r.rangeRight=ah,r.rearg=hp,r.reject=ya,r.remove=Eo,r.rest=La,r.reverse=Io,r.sampleSize=ma,r.set=Jf,r.setWith=Kf,r.shuffle=wa,r.slice=Ro,r.sortBy=up,r.sortedUniq=Bo,r.sortedUniqBy=To,r.split=gc,r.spread=za,r.tail=Mo,r.take=Po,r.takeRight=Wo,r.takeRightWhile=No,r.takeWhile=$o,r.tap=Yo,r.throttle=Ba,r.thru=Xo,r.toArray=wf,r.toPairs=Np,r.toPairsIn=$p,r.toPath=Zc,r.toPlainObject=Af,r.transform=Vf,r.unary=Ta,r.union=Ns,r.unionBy=$s,r.unionWith=qs,r.uniq=qo,r.uniqBy=Ho,r.uniqWith=Fo,r.unset=Yf,r.unzip=Go,r.unzipWith=Zo,r.update=Xf,r.updateWith=Qf,r.values=nc,r.valuesIn=tc,r.without=Hs,r.words=Ac,r.wrap=Ma,r.xor=Fs,r.xorBy=Gs,r.xorWith=Zs,r.zip=Js,r.zipObject=Jo,r.zipObjectDeep=Ko,r.zipWith=Ks,r.entries=Np,r.entriesIn=$p,r.extend=Ip,r.extendWith=Rp,zc(r,r),r.add=fh,r.attempt=Yp,r.camelCase=qp,r.capitalize=ic,r.ceil=ch,r.clamp=rc,r.clone=Wa,r.cloneDeep=$a,r.cloneDeepWith=qa,r.cloneWith=Na,r.conformsTo=Ha,r.deburr=oc,r.defaultTo=Dc,r.divide=lh,r.endsWith=ac,r.eq=Fa,r.escape=fc,r.escapeRegExp=cc,r.every=oa,r.find=Xs,r.findIndex=lo,r.findKey=Df,r.findLast=Qs,r.findLastIndex=so,r.findLastKey=Sf,r.floor=sh,r.forEach=sa,r.forEachRight=pa,r.forIn=Cf,r.forInRight=Uf,r.forOwn=Lf,r.forOwnRight=zf,r.get=Mf,r.gt=dp,r.gte=vp,r.has=Pf,r.hasIn=Wf,r.head=_o,r.identity=Sc,r.includes=ha,r.indexOf=yo,r.inRange=ec,r.invoke=Bp,r.isArguments=gp,r.isArray=_p,r.isArrayBuffer=yp,r.isArrayLike=Ga,r.isArrayLikeObject=Za,r.isBoolean=Ja,r.isBuffer=bp,r.isDate=mp,r.isElement=Ka,r.isEmpty=Va,r.isEqual=Ya,r.isEqualWith=Xa,r.isError=Qa,r.isFinite=nf,r.isFunction=tf,r.isInteger=rf,r.isLength=ef,r.isMap=wp,r.isMatch=af,r.isMatchWith=ff,r.isNaN=cf,r.isNative=lf,r.isNil=pf,r.isNull=sf,r.isNumber=hf,r.isObject=uf,r.isObjectLike=of,r.isPlainObject=df,r.isRegExp=xp,r.isSafeInteger=vf,r.isSet=jp,r.isString=gf,r.isSymbol=_f,r.isTypedArray=kp,r.isUndefined=yf,r.isWeakMap=bf,r.isWeakSet=mf,r.join=mo,r.kebabCase=Hp,r.last=wo,r.lastIndexOf=xo,r.lowerCase=Fp,r.lowerFirst=Gp,r.lt=Op,r.lte=Ap,r.max=Kc,r.maxBy=Vc,r.mean=Yc,r.meanBy=Xc,r.min=Qc,r.minBy=nl,r.stubArray=Nc,r.stubFalse=$c,r.stubObject=qc,r.stubString=Hc,r.stubTrue=Fc,r.multiply=ph,r.nth=jo,r.noConflict=Bc,r.noop=Tc,r.now=ip,r.pad=lc,r.padEnd=sc,r.padStart=pc,r.parseInt=hc,r.random=uc,r.reduce=ga,r.reduceRight=_a,r.repeat=dc,r.replace=vc,r.result=Zf,r.round=hh,r.runInContext=n,r.sample=ba,r.size=xa,r.snakeCase=Zp,r.some=ja,r.sortedIndex=Do,r.sortedIndexBy=So,r.sortedIndexOf=Co,r.sortedLastIndex=Uo,r.sortedLastIndexBy=Lo,r.sortedLastIndexOf=zo,r.startCase=Jp,r.startsWith=_c,r.subtract=dh,r.sum=tl,r.sumBy=rl,r.template=yc,r.times=Gc,r.toFinite=xf,r.toInteger=jf,r.toLength=kf,r.toLower=bc,r.toNumber=Of,r.toSafeInteger=Ef,r.toString=If,r.toUpper=mc,r.trim=wc,r.trimEnd=xc,r.trimStart=jc,r.truncate=kc,r.unescape=Oc,r.uniqueId=Jc,r.upperCase=Kp,r.upperFirst=Vp,r.each=sa,r.eachRight=pa,r.first=_o,zc(r,function(){var n={};return he(r,function(t,e){_l.call(r.prototype,e)||(n[e]=t)}),n}(),{chain:!1}),r.VERSION=\"4.17.4\",c([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],function(n){r[n].placeholder=r}),c([\"drop\",\"take\"],function(n,t){m.prototype[n]=function(r){r=r===un?1:Gl(jf(r),0);var e=this.__filtered__&&!t?new m(this):this.clone();return e.__filtered__?e.__takeCount__=Zl(r,e.__takeCount__):e.__views__.push({size:Zl(r,Tn),type:n+(e.__dir__0||t"}],"posts":[{"title":"用javascript开发一个俄罗斯方块","slug":"用javascript开发一个俄罗斯方块","date":"2016-06-09T05:36:43.000Z","updated":"2017-09-04T10:24:21.565Z","comments":true,"path":"posts/4a17a002/","link":"","permalink":"http://ilovejava.cn/posts/4a17a002/","excerpt":"开发游戏不仅能学习算法，也能锻炼人的思维逻辑，提高我们的编程能力，充实我们的问题思考能力和问题解决思路。俄罗斯方块想必大家都玩过，他的游戏逻辑并不复杂，今天我们就来用大家都熟悉的javascript开发一款俄罗斯方块，后续我会写出更多关于游戏开发的文章。","text":"开发游戏不仅能学习算法，也能锻炼人的思维逻辑，提高我们的编程能力，充实我们的问题思考能力和问题解决思路。俄罗斯方块想必大家都玩过，他的游戏逻辑并不复杂，今天我们就来用大家都熟悉的javascript开发一款俄罗斯方块，后续我会写出更多关于游戏开发的文章。 开发环境es5 + webpack 本文重点在讲解俄罗斯方块游戏的逻辑，如果不了解webpack的话可以去webpack官网查看相关文档，在这里我们不就不赘述了。代码中主要用到都是包括es5之前的语法以及api，因为es6、es7不是本文章的重点。 代码源码在我的github仓库中，大家可以看一看，代码重点在实现游戏逻辑，大家可以根据自己的需求进行优化。 在线演示俄罗斯方块 源码分析好了，开始解释代码吧，由于代码细节较多，在此我只说明一下重要的部分和总的思路。 index.html&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;Square&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;local_game&quot; class=&quot;game&quot;&gt;&lt;/div&gt; &lt;div id=&quot;local_gameover&quot; class=&quot;gameover&quot;&gt;游戏结束&lt;/div&gt; &lt;div id=&quot;local_next&quot; class=&quot;next&quot;&gt;&lt;/div&gt; &lt;div class=&quot;info&quot;&gt; &lt;div&gt;已用时:&lt;span id=&quot;local_time&quot;&gt;0&lt;/span&gt;&lt;/div&gt; &lt;div&gt;已得分:&lt;span id=&quot;local_score&quot;&gt;0&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;btnWarp&quot;&gt;&lt;a href=&quot;javascript:void(0)&quot; id=&quot;local_start&quot; class=&quot;btn&quot;&gt;开始&lt;/a&gt;&lt;/div&gt; &lt;div class=&quot;btnWarp&quot;&gt;&lt;a href=&quot;javascript:void(0)&quot; id=&quot;local_pause&quot; class=&quot;btn&quot;&gt;暂停&lt;/a&gt;&lt;/div&gt; &lt;div class=&quot;btnWarp&quot;&gt;&lt;a href=&quot;javascript:void(0)&quot; id=&quot;local_stop&quot; class=&quot;btn&quot;&gt;结束&lt;/a&gt;&lt;/div&gt; &lt;div class=&quot;introduce&quot;&gt; 操作说明： &lt;p&gt;↑：变换 ↓：下落&lt;/p&gt; &lt;p&gt;←：左移 →：右移&lt;/p&gt; &lt;p&gt;空格：坠落&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; 这是主页的html代码，俄罗斯方块的所有操作都在这个页面完成，我们的代码也只有这一个html页面。local\\_game是显示我们游戏中操作方块的区域，loacl\\_gamover是显示游戏结束的隐藏区域，local_next是显示下一个方块的区域。之所以有一个前缀loacl是因为这个游戏后续将会加上与服务器的交互逻辑，这个将在以下篇文章提到，现在可以省略。接下来是业务的实现代码，我们的js分几个模块，下面将解释每个模块的作用 game.jsgame.js主要是控制方块的数据变化，dom节点的操作。 import _ from &apos;lodash&apos;; import Square from &quot;./square.js&quot;; import SquareFactory from &quot;./squareFactory.js&quot;; export default function () { var gameData = [ [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] ] var dataClass = [ [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] ] var cur, next var gameContainers, nextContainers, timeDiv, gameoverDiv, scoreDiv var gameDivs = [], nextDivs = [] //初始化容器 var initDiv = function (data, container, divs) { for (var i = 0; i &lt; data.length; i++) { var gameDiv = [] for (var j = 0; j &lt; data[0].length; j++) { var newNode = document.createElement(&quot;div&quot;) newNode.className = &apos;none&apos; container.appendChild(newNode) gameDiv.push(newNode) } Array.prototype.push.call(divs, gameDiv) } } //刷新容器显示 var flushDiv = function (data, divs, classes) { for (var i = 0; i &lt; data.length; i++) { for (var j = 0; j &lt; data[0].length; j++) { if (data[i][j] == 0) { divs[i][j].className = &apos;none&apos; } else { if (!classes[i][j]) classes[i][j] = &apos;A&apos; divs[i][j].className = classes[i][j] } } } } //检测点是否合法 var checkPonit = function (pox, x, y) { if (pox.x + x &lt; 0) { return false } else if (pox.x + x &gt;= gameData.length) { return false } else if (pox.y + y &lt; 0) { return false } else if (pox.y + y &gt;= gameData[0].length) { return false } else if (gameData[pox.x + x][pox.y + y] == 1) { return false } return true } //监测数据是否合法 var valid = function (pos, data) { for (var i = 0; i &lt; data.length; i++) { for (var j = 0; j &lt; data[0].length; j++) { if (data[i][j] != 0) { if (!checkPonit(pos, i, j)) { return false; } } } } return true; } //设置数据 var setData = function () { for (var i = 0; i &lt; cur.data.length; i++) { for (var j = 0; j &lt; cur.data[0].length; j++) { if (checkPonit(cur.orgin, i, j)) { gameData[i + cur.orgin.x][j + cur.orgin.y] = cur.data[i][j] dataClass[i + cur.orgin.x][j + cur.orgin.y] = cur.class } } } } //清除数据 var clearData = function () { for (var i = 0; i &lt; cur.data.length; i++) { for (var j = 0; j &lt; cur.data[0].length; j++) { if (checkPonit(cur.orgin, i, j)) { gameData[cur.orgin.x + i][cur.orgin.y + j] = 0 dataClass[i + cur.orgin.x][j + cur.orgin.y] = &apos;none&apos; } } } } var setTime = function (data) { if (timeDiv) { timeDiv.innerText = data } } var showGameOver = function () { gameoverDiv.style.display = &apos;block&apos; } var clearGameOver = function () { gameoverDiv.style.display = &apos;none&apos; } //初始化数据 var init = function (dom, type, dir) { next = SquareFactory.prototype.make(type, dir) gameContainers = dom.gameContainers nextContainers = dom.nextContainers timeDiv = dom.timeDiv gameoverDiv = dom.gameoverDiv scoreDiv = dom.scoreDiv initDiv(gameData, gameContainers, gameDivs) initDiv(next.data, nextContainers, nextDivs) flushDiv(next.data, nextDivs, next.classData) } //固定变色 var fixed = function () { for (var i = 0; i &lt; gameData.length; i++) { for (var j = 0; j &lt; gameData[0].length; j++) { if (checkPonit(cur.orgin, i, j)) { if (gameData[cur.orgin.x + i][cur.orgin.y + j] == 2) { gameData[cur.orgin.x + i][cur.orgin.y + j] = 1 } } } } flushDiv(gameData, gameDivs, dataClass) } var setScore = function (data) { if (scoreDiv) scoreDiv.innerText = data } var checkClear = function () { var lines = 0 function check(data) { return data == 1 } for (var i = gameData.length - 1; i &gt;= 0; i--) { var flag = gameData[i].every(check) if (flag) { lines++ for (var k = i; k &gt;= 1; k--) { gameData[k] = (gameData[k - 1]).slice(0) dataClass[k] = (dataClass[k - 1]).slice(0) } gameData[0] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] dataClass[0] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] i++ } } return lines } var checkGameOver = function () { if (gameData[0][3] == 1 || gameData[0][4] == 1 || gameData[0][2] == 1 || gameData[0][5] == 1) {//如果原点被占用 return true } if (!valid(next.orgin, next.data)) { return true } return false; } var nextSquare = function (type, dir) { cur = next setData() next = SquareFactory.prototype.make(type, dir) flushDiv(gameData, gameDivs, dataClass) initSquareClassData(next) flushDiv(next.data, nextDivs, next.classData) } var initSquareClassData = function (squ) { for (var i = 0; i &lt; squ.data.length; i++) { for (var j = 0; j &lt; squ.data[0].length; j++) { if (squ.data[i][j] != 0) { squ.classData[i][j] = squ.class } } } } //下移 var down = function () { if (cur.canDown(valid)) { clearData() cur.down() setData() flushDiv(gameData, gameDivs, dataClass) return true } return false } var left = function () { if (cur.canLeft(valid)) { clearData() cur.left() setData() flushDiv(gameData, gameDivs, dataClass) } } var right = function () { if (cur.canRight(valid)) { clearData() cur.right() setData() flushDiv(gameData, gameDivs, dataClass) } } var rotate = function () { if (cur.canRotate(valid)) { clearData() cur.rotate() setData() flushDiv(gameData, gameDivs, dataClass) } } var fall = function () { while (down()) { } } //销毁的方法 var destroyDiv = function () { for (var i = 0; i &lt; gameDivs.length; i++) { for (var j = 0; j &lt; gameDivs[0].length; j++) { gameContainers.removeChild(gameDivs[i][j]) } } for (var i = 0; i &lt; nextDivs.length; i++) { for (var j = 0; j &lt; nextDivs[0].length; j++) { nextContainers.removeChild(nextDivs[i][j]) } } } this.init = init this.down = down this.left = left this.right = right this.rotate = rotate this.fall = fall this.fixed = fixed this.nextSquare = nextSquare this.checkClear = checkClear this.checkGameOver = checkGameOver this.setTime = setTime this.showGameOver = showGameOver this.clearGameOver = clearGameOver this.setScore = setScore this.destroyDiv = destroyDiv } 首先我先来讲一下这个游戏的原理，玩过俄罗斯方块的都清楚他的规则，我们的方块都在一个容器内，不能超出边界。是的，这个容器就是index.html中的local_game，这个容器的大小是400px200px，我们定义一种小方块，每个大小为20px20px，这个容器就能容纳10列*20行也就是200个小方块，现在这个容器被我们的小方块填充满了，游戏中我们所有的小方块有三种状态，1.空的小方块，也就是游戏中那些空闲的区域（白的区域）。2.固定的小方块，已经固定不能移动的小方块。3.正在动的小方块，也就是我门游戏中正在操作的小方块。我们给这三中状态定义假设一个值，比如：第一种状态为0，第二中状态为1，第三种状态为2。我们将这样200个小方块存在一个二维数组中（这里我们称之为dom数组），再将这200个小方块存入一个二维数组中（这里我们称之为状态数组）。当我们按上下左右移动方块时，其实就是更改状态数组，然后在根据状态数组的值改变dom数组中小方块的样式，比如：状态0显示白色，状态1显示蓝色，状态2显示粉色。到这里游戏的基本原理大概就解释完了，看懂了的话，下面的代码实现也就很好理解了。没看明白的话，可能..是我没说清楚吧（Σ( ° △ °|||)︴），那你可以根据源码实现一遍，应该也会理解的。 接下来讲解源码，由上至下开始讲，顶部的模块引入和一些变量生命先将它们忽略，后面用到的时候会提到，先说一些比较重要的变量，gameData就是我们上面提到的保存方块状态的二维数组，gameDivs是我们保存200个小方块的二维数组，还记得游戏上边有显示下一个方块的区域吧，这个区域我们的游戏区域显示远离一致，只是他比较小，大小只有80px*80px，他其中的16个小方块保存在nexDivs二维数组中。接下来的讲解中我们将200个的这种方块称为小方块，游戏中左右上下操作的方块称为下落的方块，以免大家混淆。 //初始化容器 var initDiv = function (data, container, divs) { for (var i = 0; i &lt; data.length; i++) { var gameDiv = [] for (var j = 0; j &lt; data[0].length; j++) { var newNode = document.createElement(&quot;div&quot;) newNode.className = &apos;none&apos; container.appendChild(newNode) gameDiv.push(newNode) } Array.prototype.push.call(divs, gameDiv) } } //刷新容器显示 var flushDiv = function (data, divs, classes) { for (var i = 0; i &lt; data.length; i++) { for (var j = 0; j &lt; data[0].length; j++) { if (data[i][j] == 0) { divs[i][j].className = &apos;none&apos; } else { if (!classes[i][j]) classes[i][j] = &apos;A&apos; divs[i][j].className = classes[i][j] } } } } initDiv就是初始化容器的方法，他生成200个小方块设置样式为none并填充到容器中，因为容器和小方块的样式都是float:left,所以小方块能够顺序排列。flushDiv根据gameData中的数据变更小方块的样式。剩余的方法下面提及。接下里是下落的方块了。 square.jsvar Square = function () { this.data = [ [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0] ] this.classData = [ [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0] ] this.dir = 0 this.orgin = { x: 0, y: 0 } } Square.prototype.canDown = function (valid) { var testDown = { x: this.orgin.x + 1, y: this.orgin.y, } return valid(testDown, this.data) } Square.prototype.canLeft = function (valid) { var testLeft = { x: this.orgin.x, y: this.orgin.y - 1, } return valid(testLeft, this.data) } Square.prototype.canRight = function (valid) { var testRight = { x: this.orgin.x, y: this.orgin.y + 1, } return valid(testRight, this.data) } Square.prototype.canRotate = function (valid) { var d = (this.dir + 1) % 4 return valid(this.orgin, this.rotates[d]) } Square.prototype.down = function () { this.orgin.x += 1 } Square.prototype.left = function () { this.orgin.y -= 1 } Square.prototype.right = function () { this.orgin.y += 1 } Square.prototype.rotate = function (num) { if (!num) num = 1 this.dir = (this.dir + num) % 4 this.data = this.rotates[this.dir] } export default Square Square是所有下落方块的父类，data是描述方块形状的数组，此数组中只有状态3，因为他只表述运动中的方块，当方块固定下来后，这个方块回销毁，数据将存入game.js中的gameData，orgin是方块当前位置的原点，有了这个原点，移动方块时，只需要移动这个原点，这是一种很巧妙的思维方式，dataClass是保存运动中每个小方块样式的数组，每个下落的方块能翻转4次，dir是保存当前翻转形态的down,right,left是下落方块移动对应的方法，rotate是下落方块翻转的方法。对应的can方法是判断方块的位置是否能做对应的操作。 squareFactory.jsimport Square from &quot;./square.js&quot;; var Square1 = function () { Square.call(this) this.rotates = [ [ [0, 0, 0, 0], [2, 2, 2, 2], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 0, 0], [0, 2, 0, 0], [0, 2, 0, 0], [0, 2, 0, 0] ], [ [0, 0, 0, 0], [2, 2, 2, 2], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 0, 0], [0, 2, 0, 0], [0, 2, 0, 0], [0, 2, 0, 0] ] ] } Square1.prototype = new Square() var Square2 = function () { Square.call(this) this.rotates = [ [ [0, 2, 0, 0], [2, 2, 2, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 0, 0], [0, 2, 2, 0], [0, 2, 0, 0], [0, 0, 0, 0] ], [ [2, 2, 2, 0], [0, 2, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 0, 0], [2, 2, 0, 0], [0, 2, 0, 0], [0, 0, 0, 0] ] ] } Square2.prototype = new Square() var Square3 = function () { Square.call(this) this.rotates = [ [ [0, 2, 0, 0], [0, 2, 2, 2], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 2, 0], [0, 2, 0, 0], [0, 2, 0, 0], [0, 0, 0, 0] ], [ [2, 2, 2, 0], [0, 0, 2, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 0, 2, 0], [0, 0, 2, 0], [0, 2, 2, 0], [0, 0, 0, 0] ] ] } Square3.prototype = new Square() var Square4 = function () { Square.call(this) this.rotates = [ [ [0, 0, 0, 0], [0, 2, 2, 0], [0, 2, 2, 0], [0, 0, 0, 0] ], [ [0, 0, 0, 0], [0, 2, 2, 0], [0, 2, 2, 0], [0, 0, 0, 0] ], [ [0, 0, 0, 0], [0, 2, 2, 0], [0, 2, 2, 0], [0, 0, 0, 0] ], [ [0, 0, 0, 0], [0, 2, 2, 0], [0, 2, 2, 0], [0, 0, 0, 0] ] ] } Square4.prototype = new Square() var Square5 = function () { Square.call(this) this.rotates = [ [ [2, 2, 0, 0], [0, 2, 2, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 0, 2, 0], [0, 2, 2, 0], [0, 2, 0, 0], [0, 0, 0, 0] ], [ [2, 2, 0, 0], [0, 2, 2, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 0, 2, 0], [0, 2, 2, 0], [0, 2, 0, 0], [0, 0, 0, 0] ] ] } Square5.prototype = new Square() var Square6 = function () { Square.call(this) this.rotates = [ [ [0, 0, 2, 0], [2, 2, 2, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 0, 0], [0, 2, 0, 0], [0, 2, 2, 0], [0, 0, 0, 0] ], [ [2, 2, 2, 0], [2, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [2, 2, 0, 0], [0, 2, 0, 0], [0, 2, 0, 0], [0, 0, 0, 0] ] ] } Square6.prototype = new Square() var Square7 = function () { Square.call(this) this.rotates = [ [ [0, 2, 2, 0], [2, 2, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 0, 0], [0, 2, 2, 0], [0, 0, 2, 0], [0, 0, 0, 0] ], [ [0, 2, 2, 0], [2, 2, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0] ], [ [0, 2, 0, 0], [0, 2, 2, 0], [0, 0, 2, 0], [0, 0, 0, 0] ] ] } Square7.prototype = new Square() var SquareFactory = function () { } SquareFactory.prototype.make = function (index, dir) { var classes = [&apos;A&apos;, &apos;B&apos;, &apos;C&apos;, &apos;D&apos;, &apos;E&apos;, &apos;F&apos;, &apos;G&apos;, &apos;H&apos;] var s index += 1 switch (index) { case 1: s = new Square1() break; case 2: s = new Square2() break; case 3: s = new Square3() break; case 4: s = new Square4() break; case 5: s = new Square5() break; case 6: s = new Square6() break; case 7: s = new Square7() break; } s.orgin.x = 0 s.orgin.y = 3 s.class = classes[Math.ceil(Math.random() * 9) - 1] s.rotate(dir) return s; } export default SquareFactory 看squareFactory这个名字大家都会明白这是个工厂模块，不明白工厂模式的请自行百度… 在squareFactory中定义了俄罗斯方块中基本的七种方块，并提供了生成方块的方法，这七中方块都继承自square，也就是它们都有移动的方法，不同于父模块，这些方块中的rotates定义了此方块翻转的四种形态。squareFactory的make方法根据参数生成方块，index参数代表要生成的方块，dir表示方块翻转的形态，这两个参数将由game模块传进来，当然这两个方块是随机数，因为每次的方块都是随机的。classes表示的是方块的样式，初始将会给方块也随机赋予一个颜色。 local.jsimport _ from &apos;lodash&apos;; import Game from &quot;./game.js&quot;; export default function () { var game var timer var INTERVAL = 200 var hours var minute var seconds var score = 0 var timeCount = 0 var isStart = false; var isPause = false var bindKeyEvent = function () { document.onkeydown = function (e) { switch (e.keyCode) { case 38://up game.rotate() break case 39://right game.right() break case 37://left game.left() break case 40://down game.down() break case 32://space game.fall() break } } } var generateType = function () { return Math.ceil(Math.random() * 7) - 1 } var generateDir = function () { return Math.ceil(Math.random() * 4) - 1 } var addScore = function (data) { switch (data) { case 0: return 0 case 1: return 10 case 2: return 40 case 3: return 60 case 4: return 80 default: return 100 } } var gameOver = function () { clearInterval(timer) game.showGameOver() game.nextSquare(generateType(), generateDir()) document.onkeydown = null timer = null timeCount = 0 score = 0 isStart = true } var clearGameOver = function () { game.clearGameOver() game.destroyDiv() game.setScore(0) game.setTime(0) } var move = function (gamoverDiv) { if (!game.down()) {//如果不能下落 game.fixed()//固定 score += addScore(game.checkClear()) game.setScore(score)//消行 if (game.checkGameOver()) {//判断游戏是否结束 gameOver() } else { game.nextSquare(generateType(), generateDir())//生成下一个方块 } } } var addTime = function () { timeCount++; if (timeCount % 5 == 0) { seconds = timeCount / 5 var showTime; if (seconds &gt;= 3600) { var tmp = seconds % 3600 var tmpMinute = Math.floor(tmp / 60) showTime = Math.floor(seconds / 3600) + &quot;小时&quot; + tmpMinute + &apos;分&apos; + tmp % 60 + &apos;秒&apos; } else if (seconds &gt;= 60) { showTime = Math.floor(seconds / 60) + &quot;分&quot; + seconds % 60 + &apos;秒&apos; } else { showTime = seconds + &apos;秒&apos; } game.setTime(showTime) } } var start = function () { if (!timer) { if(isStart) clearGameOver() game = new Game() var doms = { gameContainers: document.getElementById(&quot;local_game&quot;), nextContainers: document.getElementById(&quot;local_next&quot;), timeDiv: document.getElementById(&quot;local_time&quot;), gameoverDiv: document.getElementById(&quot;local_gameover&quot;), scoreDiv: document.getElementById(&quot;local_score&quot;) } game.init(doms, generateType(), generateDir()) game.nextSquare(generateType(), generateDir()) bindKeyEvent() timer = setInterval(function () { move() addTime() }, INTERVAL) } } var pause = function (e) { if (!isPause &amp;&amp; timer) { isPause = true clearInterval(timer) this.innerText = &apos;继续&apos; this.onclick = continue_ document.onkeydown = null } } var continue_ = function () { if (isPause) { isPause = false timer = setInterval(function () { move() addTime() }, INTERVAL) this.innerText = &apos;暂停&apos; this.onclick = pause bindKeyEvent() } } var stop = function () { isStart = false clearInterval(timer) document.onkeydown = null timer = null game.destroyDiv() game.clearGameOver() game.setScore(0) game.setTime(0) timeCount = 0 score = 0 } var init = function () { //绑定开始按钮事件 document.getElementById(&quot;local_start&quot;).onclick = start //绑定暂停按钮事件 document.getElementById(&quot;local_pause&quot;).onclick = pause //绑定结束按钮事件 document.getElementById(&quot;local_stop&quot;).onclick = stop } this.init = init } local模块主要是开始，暂停，继续，结束按钮事件和上下左右空格键盘输入事件以及判断游戏结束的。这块不是我们的重点环节，注释都有，大家自行食用吧。 总体描述我们的游戏代码其实就是主页加载local,loacl绑定键盘和按钮事件，事件中调用game,game再调用squareFactory生成下落方块，当我们输入操作时，再通过Square中对应的方法修改下落方块的data数组和orgin原点，game再通过原点和data修改自己的gameData，接着再通过gameData数组来刷新gameDivs和nextDivs中小方块的样式。由于代码细节较多，如方块消行，加分，判断点位置合法性，判断游戏结束等等，我也不可能一一列出啦，所以这些细节大家如果感兴趣的话可以到源码中去查看。怎么样，明白了吗？有什么问题请下方留言。","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://ilovejava.cn/tags/javascript/"},{"name":"算法","slug":"算法","permalink":"http://ilovejava.cn/tags/算法/"},{"name":"游戏","slug":"游戏","permalink":"http://ilovejava.cn/tags/游戏/"}]},{"title":"深入浅出javascript(一)","slug":"深入浅出javascript(一)","date":"2016-05-09T06:56:43.000Z","updated":"2017-09-04T03:40:21.101Z","comments":true,"path":"posts/172175ba/","link":"","permalink":"http://ilovejava.cn/posts/172175ba/","excerpt":"简介此文章适合有一定javascript基础的同学用来巩固和深入javascript知识的文章。","text":"简介此文章适合有一定javascript基础的同学用来巩固和深入javascript知识的文章。 六种数据类型javascript中有六种数据类型 number string boolean null undefined Object 因为js中定义变量不需要指定类型，所以数据在一些操作符和运算符之间存在着隐式转换，例如： var a = 11; console.log(a + &quot;22&quot;)//结果是1122 变量a被隐式转换为字符串 console.log(a - &apos;10&apos;)//结果是1 字符10被隐式转换为数字 console.log(a - true)//结果是10 布尔值true被隐式转换为数字1 正因为存在这些隐式转换的逻辑，我们可以利用它巧妙的进行类型转换，数字转字符只要加上一个空字符串，字符转数字只要减去0等等方法。在进行判断操作时同样存在着隐式转换，例如： if(1 == &quot;1&quot;) console.log(&quot; 1 = &apos;1&apos;&quot;)//结果是true，会输出1 = &apos;1&apos; if(false == 0 ) console.log(&quot; false = 0 &quot;)//结果是true，会输出false = 0 但有些时候我们希望1等于”1”是false，这个时候我们就需要用到 ‘===’，’===’在’==’的基础之上添加了类型判断，即判断值之前首先会判断左右两边的类型，如果不同则直接返回false，类型相同才会去判断值。这里值得一提的是六种数据类型中的Object用’===’和’==’判断时，判断用到的值是该对象存储的内存地址（所以判断Object的值一般不使用这两个，判断方法后面会说道）。javascript中还存在着一些包装类型，包装类型并不是一种类型，可以把它理解为基础类型的包装。number类型的包装类型是Number，string类型的包装类型是String，boolean类型的包装类型是Boolean。在对基础类型进行对象操作时，js会自动创建一个相应包装类型对象供你操作，当操作结束后，该对象将会销毁（代码如下）。为什么存在包装类型呢？是为了给基础类型提供更加便捷的操作，普通类型可以直接调用包装类型中的方法，不觉得很方便吗？ var a = &quot;abc&quot; console.log(a.length)//创建一个String对象 a.id = 1 console.log(a.id)//undefined 因为包装类型已经销毁 console.log((123).toString())// &quot;123&quot; 类型检测js中检测类型的方法有多种，如下 typeof instanceof Object.prototype.toString constructor duck type typeof运算符判断类型的用法是typeof 100，typeof后面接着数据这种的用法，返回结果是字符串，数字返回’number’，布尔返回’boolean’，undefined返回的是’undefined’，function和Objct返回’function’…这里就不一一列举了，同学们可以到控制台尝试一下。这里需要注意的是typeof [0,1]返回的是Object,typeof NaN 返回的是’number’，typeof null 返回的是’object’，所以在使用typeof检测数组,NaN和null时要特别注意。 instanceof是一个基于原型链判断类型的操作符，如果不了解原型链的同学，这里可以不必强行理解，只要记住这个概念就行了，后面的文章会仔细介绍原型链。instanceOf用来检测对象的类型，如obj instanceof Object，若obj是基本类型，则会直接返回false，若Object不是函数或者函数构造器，则会抛出一个TypeError异常。instaceof检测的过程是先判断obj.__proto__(__proto__是在chrome浏览器暴露出来的一个属性，用以描述对象的原型，也可以使用Object.getPrototypeOf)是否等于Object.prototype,如果相等，则返回true，如果不等则继续向上查找，obj.__proto__.__proto__是否等于Object.prototype，以此类推，直到找到相等的，返回true，若寻找完整条原型链都不想等，则返回false。 Object.prototype.toString.apply(obj)既可以判断基础类型，也可以判断对象类型。判断的返回值是字符串，数组类型返回’[object Array]’，数字类型返回’[object Number]’，函数类型返回’[object Function]’，其他的同学们可以去尝试一下。这里值得注意的是用此方法判断undefined会返回’[object Undefined]’，判断null会返回’[object Null]’，而在IE6/7/8下，判断null则是返回’[object Object]’。 constructor是用来检测对象类型的，通过对象__proto__属性上的constructor判断，注意constructor是可以修改的，所以此方式检测的结果不一定正确，可结合其他检测方式来保证结果正确性，示例如下： var a = new Number(1);a.constructor == Number?console.log(“a是Number类型”):console.log(“a不是Number类型”)//结果输出是a是Number类型 duck type –“当看到一只鸟走起来像鸭子、游泳起来像鸭子、叫起来也像鸭子，那么这只鸟就可以被称为鸭子。” 通过检测对象是否具体的属性来判断其类型，当然存在着很大的风险（恰巧拥有同样的属性），如Object的isArray方法： isArray: function(object) { return object != null &amp;&amp; typeof object == &quot;object&quot; &amp;&amp; &apos;splice&apos; in object &amp;&amp; &apos;join&apos; in object; } 综上所述，在判断数据类型时应该按照需求选用方法，如基本类型和function使用typeof，自定义对象和原生对对象使用instanceof，原生对象和iframe之间的对象类型使用Object.prototype.toString，null和undefined用===判断等等… 未完待续…","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://ilovejava.cn/tags/javascript/"}]},{"title":"最最常用的git command","slug":"最常用的git command","date":"2016-01-10T05:36:43.000Z","updated":"2017-09-04T09:54:50.852Z","comments":true,"path":"posts/4a17a003/","link":"","permalink":"http://ilovejava.cn/posts/4a17a003/","excerpt":"不要浪费时间，直接开始正题吧。下面是碰到的具体情况对应的具体操作。","text":"不要浪费时间，直接开始正题吧。下面是碰到的具体情况对应的具体操作。 fork代码之后的同步fork他人的代码之后，自己做了修改，他人更新了，想要同步更新，同时也保存自己修改的内容，这个应用场景十分常见。在github、oschina、coding上都提供了web端可以直接同步的功能，但是在自己搭建的git服务上就不一定有了。 $ git remote -v origin https://github.com/yeqingyun/abc.git(fetch) origin https://github.com/yeqingyun/abc.git(push) $ git remote add upstream https://github.com/linus/abc.git $ git remote -v origin https://github.com/yeqingyun/abc.git(fetch) origin https://github.com/yeqingyun/abc.git(push) upstream https://github.com/linus/abc.git(fetch) upstream https://github.com/linus/abc.git(push) $ git fetch upstream $ git merge upstream/master 上面这个过程就将他人的代码同步到自己的代码中，下一次再同步时只需要执行 $ git fetch upstream $ git merge upstream/master 这种方法，也可以用于一些开发模式上，比如组长创建了项目a，三个组员分别fork了项目a，当他们在自己fork的项目中完成自己的模块后，组长可以去做如下操作来合并代码（其实这很类似于分支）。 $ git remote -v origin https://github.com/leader/a.git(fetch) origin https://github.com/leader/a.git(push) $ git remote add zs https://github.com/zs/abc.git $ git remote add ls https://github.com/ls/abc.git $ git remote add ls https://github.com/ww/abc.git $ git remote -v origin https://github.com/leader/a.git(fetch) origin https://github.com/leader/a.git(push) zs https://github.com/leader/a.git(fetch) zs https://github.com/leader/a.git(push) ls https://github.com/leader/a.git(fetch) ls https://github.com/leader/a.git(push) ww https://github.com/leader/a.git(fetch) ww https://github.com/leader/a.git(push) $ git fetch zs $ git merge zs/master $ git fetch ls $ git merge ls/master $ git fetch ww $ git merge ww/master 基于分支开发当项目升级到一个稳定的版本后，我们想要尝试加一些新功能（不确定的功能），又不愿意修改项目稳定版本的代码，这时就要利用分支来做开发了。我们新开一个分支，将新功能的代码提交到分支上，新功能开发完毕后，我们根据效果确定这个功能存在的必要性，再决定要不要把代码合并到主干上。在这里说明一下origin和branch的区别，origin是源，也就是代码的地址，而branch是分支，比如：github上每个项目有且只有一个唯一的origin(例如：https://github.com/leader/a.git)，但每个项目能有许多的分支。git remote -v 查看到的就是代码的源，这里可以定义多个源，fetch和push的时候要指定目标源。git branch -a查看到的是本地和远程的分支。 $ git branch #查看分支 * master # * 标识当前分支 $ git branch test #创建分支 $ git branch #查看本地和远程分支 * master test $ git push origin test #推送分支到源（创建远程分支） $ git checkout test #切换到test分支 Switched to branch 'test' M .gitignore M pom.xml M src/main/java/com/gionee/uc/biz/model/App.java M src/main/resources/app.properties M src/main/webapp/WEB-INF/view/index.html M uc.iml $ git branch -a #查看本地和远程分支 master * test remotes/origin/master remotes/origin/test $ git branch --set-upstream-to=origin/test #将当前分支链接到远程分支 我们用(远程仓库名)/(分支名) 这样的形式表示远程分支，所以origin/master指向的是一个remote branch $ git push origin test #将test分支代码提交到远程分支上 $ git checkout master #切换到主干 $ git merge test #合并test到主干 $ git branch -r -d origin/test #删除分支 $ git push origin test #提交到远程分支 代码回滚这个基本是最常见的情景了 $ git log -5 #加上-p能对比提交内容差异 commit 4aeb48fec96cf62bda07fd27a5a267f8c58c77e9 (HEAD -&gt; master, origin/master) Author: yeqingyun Date: ... ... Signed-off-by: yeqingyun &lt;yeqy@gionee.com&gt; commit 96e95ce39b9f403c61f2f9b05c3e2b5ab04851d6 Author: yeqingyun Date: ... ... Signed-off-by: yeqingyun commit f6ffec9d6810af0b7f6709020f47fca55ee53ae1 Author: yeqingyun Date: Sat Aug 26 11:56:35 2017 +0800 Signed-off-by: yeqingyun $ git reset --hard 4aeb48 #只要输入指针的前6位 $ git push -f origin master #强制提交到远程主干 未完待续…","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://ilovejava.cn/tags/git/"}]}]}